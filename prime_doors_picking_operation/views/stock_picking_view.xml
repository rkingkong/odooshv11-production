<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="stock_picking_inherit" inherit_id="stock.report_picking">
        <xpath expr="//div[hasclass('page')]" position="replace">
            <div class="page">
                <h2 style="padding-bottom: 30px;" class="text-center">PICKING OPERATION</h2>
                <div class="row">
                    <div class="col-xs-6">
                        <div t-if="o.sale_id" name="partner_header">
                            <strong>
                                <div t-field="o.sale_id.partner_id"
                               t-options='{"widget": "contact", "fields": ["name"], "no_marker": True,}'/>
                            </strong>
                            <div t-field="o.sale_id.partner_invoice_id"
                               t-options='{"widget": "contact", "fields": ["address", "phone"], "no_marker": True, "phone_icons": True}'/>
                        </div>
                    </div>
                    <div class="col-xs-5 col-xs-offset-1">
                        <div t-if="o.picking_type_id.code=='incoming' and o.partner_id">
                            <span><strong>PARTNER ADDRESS:</strong></span>
                        </div>
                        <div t-if="o.picking_type_id.code=='internal' and o.partner_id">
                            <span><strong>WAREHOUSE ADDRESS:</strong></span>
                        </div>
                        <div t-if="o.picking_type_id.code=='outgoing' and o.partner_id">
                            <span><strong>CUSTOMER ADDRESS:</strong></span>
                        </div>
                        <div t-if="o.partner_id" name="partner_header">
                            <div t-field="o.partner_id"
                               t-options='{"widget": "contact", "fields": ["address", "phone"], "no_marker": True, "phone_icons": True}'/>
                            <p t-if="o.sudo().partner_id.vat"><t t-esc="o.company_id.country_id.vat_label or 'TIN'"/>: <span t-field="o.sudo().partner_id.vat"/></p>
                        </div>
                    </div>
                </div>
                <br/>
                <img
                    t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', o.name, 600, 100)"
                    style="width:300px;height:50px" class="pull-right mb16"
                    />
                <div class="clearfix"/>
                <table class="table table-condensed">
                <thead>
                    <tr>
                        <th t-if="o.origin"><strong>Order (Origin)</strong></th>
                        <th><strong>State</strong></th>
                        <th><strong>Commitment Date</strong></th>
                        <th name="td_sched_date_h"><strong>Scheduled Date</strong></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td t-if="o.origin">
                            <span t-field="o.origin"/>
                        </td>
                        <td>
                            <span t-field="o.state"/>
                        </td>
                        <td>
                            <span t-field="o.date"/>
                        </td>
                        <td name="td_sched_date">
                            <span t-field="o.scheduled_date"/>
                        </td>
                    </tr>
                </tbody>
                </table>
                <br/>
                <br/>
                <table class="table table-condensed" t-if="o.move_line_ids">
                  <t t-set="has_barcode" t-value="any([move_lines.product_id and move_lines.product_id.sudo().barcode or move_lines.package_id for move_lines in o.move_line_ids])"/>
                  <t t-set="has_serial_number" t-value="o.move_line_ids.filtered(lambda ml: ml.lot_id or ml.lot_name)" groups="stock.group_production_lot"/>
                  <thead>
                    <tr>
                        <th width="10%">Product</th>
                        <th width="5%">Quantity</th>
                        <th width="20%" class="text-center">
                            <t t-if="has_barcode">Barcode</t>
                        </th>
                        <th width="20%">
                            <t t-if="has_serial_number">Lot/Serial Number</t>
                        </th>
                        <th width="25%" class="text-right">Instruction</th>
                    </tr>
                  </thead>
                  <tbody>
                        <tr t-foreach="o.move_lines.sorted(key=lambda m: m.id)" t-as="move" style="padding-bottom: 10px;">
                            <td>
                                <span style="font-size:16px;" t-field="move.product_id.display_name"/><br/>
                                <span t-field="move.product_id.description_picking"/>
                            </td>
                            <td>
                                <span t-if="move.product_qty" t-esc="move.product_qty"/>
                                <span t-if="not move.product_qty" t-esc="move.product_uom._compute_quantity(move.quantity_done, move.product_id.uom_id, rounding_method='HALF-UP')"/>
                                <span t-field="move.product_id.uom_id" groups="product.group_uom"/>
                            </td>
                            <td>
                                <t t-if="has_barcode">
                                    <span t-if="move.product_id and move.product_id.barcode">
                                        <img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', move.product_id.barcode, 600, 100)" style="width:100%;height:50px"/>
                                    </span>
                                </t>
                            </td>
                            <td colspan="3">
                                <t t-if="move.move_line_ids">
                                    <table width="100%">
                                        <tr t-foreach="move.move_line_ids.sorted(key=lambda ml: ml.location_id.id)" t-as="ml">
                                            <td width="20%">
                                                <t t-if="o.picking_type_id.code != 'incoming'">
                                                    <span t-esc="ml.location_id.display_name"/>
                                                    <t t-if="ml.package_id">
                                                        - <span t-field="ml.package_id"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td width="50%">
                                                <t t-if="has_serial_number and ml.product_id.tracking != 'none'">
                                                    <div class="col-xs-4">
                                                        <span t-field="ml.lot_id"/>
                                                        <span t-if="not ml.lot_id" t-field="ml.lot_name"/>
                                                    </div>
                                                </t>
                                                <div class="col-xs-8">
                                                    <span t-field="ml.qty_done"/>
                                                    <t t-if="o.state!='done'">
                                                        / <span t-field="ml.product_uom_qty"/>
                                                    </t>
                                                </div>
                                            </td>
                                            <td width="30%" align="center">
                                                <div>
                                                    <span t-field="ml.move_id.instruction"/>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </t>
                                <t t-else="">
                                    <span>NO RESERVATION OR QUANTITY DONE YET.</span>
                                </t>
                            </td>
                        </tr>
                  </tbody>
                </table>
                <table class="table table-condensed" t-if="o.entire_package_ids and o.picking_type_entire_packs">
                    <thead>
                        <tr>
                            <th width="25%">Package</th>
                            <th width="25%" class="text-center">Barcode</th>
                            <th width="25%" class="text-left">Source</th>
                            <th width="25%" class="text-right">Destination</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="o.entire_package_ids.sorted(key=lambda p: p.name)" t-as="package">
                            <t t-set="package" t-value="package.with_context({'picking_id':o.id})" />
                            <td><span t-field="package.name"/></td>
                            <td><img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', package.name, 600, 100)" style="width:300px    ;height:50px"/></td>
                            <td><span t-field="package.current_source_location_id"/></td>
                            <td><span t-field="package.current_destination_location_id"/></td>
                        </tr>
                    </tbody>
                </table>
                <p t-if="o.state in ['draft', 'waiting', 'confirmed']">
                    YOU DO NOT HAVE ANY PRODUCTS RESERVED FOR THIS PICKING.  PLEASE CLICK THE 'RESERVE' BUTTON
                    TO CHECK IF PRODUCTS ARE AVAILABLE.
                </p>
                <p t-field="o.note"/>
                <div class="page" style="page-break-before: always;">
                    <div class="row">
                        <h4 align="center">PRIME DOORS SALES &amp; SERVICES L.L.C.</h4>
                        <h4 align="center">TERMS AND CONDITIONS</h4>
                        <div class="col-xs-6" style="font-size:10px;">
                            <p>The following terms and conditions are incorporated in and made a part of every quote, proposal, invoice, delivery slip, or purchase order submitted to and acknowledged by Prime-Doors Sales &amp; Services L.L.C. (“Prime Doors”). Customer’s submission of a purchase order to Prime Doors, or Customer’s acceptance of any goods from Prime Doors, shall constitute Customer’s acceptance of Prime Doors’ Terms and Conditions. Furthermore, the acceptance by Customer of any quotes or proposals received from Prime Doors is expressly limited to the terms of such quotes or proposals, and any terms or conditions proposed in Customer’s purchase orders or any other documents that are inconsistent with or in addition to Prime Doors’ Terms and Conditions are objected to and rejected by Prime Doors’. Any and all of Prime Doors Terms and Conditions are subject to change by Prime Doors without further notice to Customer. Any purchase order submitted by Customer to Prime Doors shall be subject to any and all Terms and Conditions in effect on the date on which such purchase order is submitted to Prime Doors. No purchase order shall be binding upon, or deemed accepted by, Prime Doors unless and until Prime Doors has delivered written confirmation of such acceptance to Customer. Prime Doors’ Terms and Conditions are available upon request.</p>
                            <p>
                                <strong>PAYMENT TERMS:</strong> Payment in full of all invoiced amounts, including freight and taxes, if any, for any goods ordered by Customer from Prime Doors is due upon delivery of the goods, unless different payment terms are specified in writing in a proposal or quote delivered by Prime Doors to Customer. Customer agrees to pay Prime Doors interest at the rate of 18% per annum on all past-due amounts. Any amounts previously quoted by Prime Doors are subject to adjustment to reflect amounts in effect at the time of order, manufacture, shipment, or delivery, including any increase in material costs, freight costs, or taxes.</p>
                            <p>
                                <strong>TAXES:</strong> The amount of any sales, use, revenue, excise, or other taxes applicable to the sale of any goods by Prime Doors to Customer shall be added to the purchase price and shall be paid by Customer.</p>
                            <p>
                                <strong>UNANTICIPATED CIRCUMSTANCES:</strong> Delivery dates are estimated and may be subject to change or delay. Prime Doors shall make reasonable efforts to keep its delivery commitments; however, unanticipated circumstances may delay delivery of the goods, and Prime Doors shall have no liability for such delays. In the event of such delays, the delivery date shall be extended for such additional time as may be necessary under the circumstances, as determined in Prime Doors’ sole discretion. In addition, if Prime Doors’ material or freight costs increase as a result of any unanticipated circumstances, the amount to be paid by Customer under any existing quotes or purchase orders shall be adjusted upward by the amount of such increased costs, and Customer shall pay such increased amount in accordance with Prime Doors’ Terms and Conditions</p>
                            <p>
                                <strong>INSPECTION:</strong> Customer shall inspect all goods immediately upon delivery, and shall within three (3) days of their delivery give written notice to Prime Doors of any claim relating to such goods, including shortage claims, defect claims, or claims that the goods are non-conforming. If Customer shall fail to timely give such notice, the goods shall be deemed to conform with the terms of Customer’s purchase order and Customer shall be bound to accept and pay for the goods in accordance with Prime Doors’ Terms and Conditions. Customer expressly waives any right the Customer may have to revoke acceptance after such three (3) day period. No goods shall be returned to Prime Doors without Prime Doors’ prior written consent.</p>
                            <p>
                                <strong>LIMITATION OF LIABILITY:</strong> Should any goods sold or supplied to Customer by Prime Doors not conform to Customer’s purchase order, Prime Doors’ only liability will be to repair or replace the non-conforming goods, or to refund the purchase price for such goods, as Prime Doors elects in its sole discretion, if (a) Customer properly notifies Prime Doors in writing, within the three (3) day period stated above; (b) Prime Doors’ inspector determines that such goods do not conform to the specifications or descriptions in Customer’s purchase order; (c) within three (3) days of Prime Doors’ written request, Customer returns the goods to Prime Doors; and (d) Customer has timely remitted payment to Prime Doors of all invoiced amounts associated with such goods. IN NO EVENT SHALL PRIME DOORS BE LIABLE FOR ANY PENALTIES, OR FOR ANY INDIRECT, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES, INCLUDING BUT NOT LIMITED TO, DAMAGES ARISING FROM ANY DELAY IN FURNISHING THE GOODS, THE USE OR SALE OF SUCH GOODS BY CUSTOMER OR ANY THIRD PARTY, OR ANY RECALL OF SUCH GOODS BY CUSTOMER OR ANY THIRD PARTY</p>
                        </div>
                        <div class="col-xs-6" style="font-size:10px;">
                            <p>
                                <strong>DISCLAIMER OF WARRANTY:</strong> EXCEPT AS EXPRESSLY STATED IN WRITING IN A PROPOSAL OR QUOTE DELIVERED BY PRIME DOORS TO CUSTOMER, NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING ANY WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, ARE MADE OR PROVIDED, AND ANY AND ALL SUCH WARRANTIES ARE HEREBY EXPRESSLY DISCLAIMED.</p>
                            <p>
                                <strong>RISK OF LOSS:</strong> Risk of loss on all goods ordered from Prime Doors shall pass to Customer upon delivery of the goods to the destination specified in Prime Door’s quote or proposal; provided, however, if the goods are shipped by common carrier, risk of loss shall pass to Customer when the goods leave Prime Doors’ facility.</p>
                            <p>
                                <strong>SUSPENSION OF PERFORMANCE:</strong> If, in Prime Doors’ sole discretion, doubt exists as to Customer’s financial condition or responsibility, or if Customer is past due in the payment of any amount due and owing to Prime Doors , Prime Doors reserves the right, without liability and without prejudice to any other remedies, to suspend performance and to decline shipment, hold further shipments, retain possession, and stop transit, of any goods ordered by or belonging to Customer until Prime Doors receives payment of all amounts due and owing.</p>
                            <p>
                                <strong>REMEDIES UPON DEFAULT:</strong> If Customer fails to pay any invoiced amounts as they become due, in addition to all other remedies available to Prime Doors, Prime Doors may immediately accelerate, demand, and recover from Customer all amounts due Prime Doors, whether past-due or not, including all invoiced amounts, and all special, incidental, and consequential damages, costs of collection, interest, attorneys’ fees, and any and all other amounts due to Prime Doors under Prime Doors’ Terms and Conditions.</p>
                            <p>
                                <strong>INDEMNIFICATION:</strong> Customer shall indemnify, defend, and hold harmless Prime Doors and its managers, members, employees, agents, affiliates, contractors, representatives, successors, and assigns from and against any and all claims, demands, causes of action, judgments, fines, penalties, losses, damages, liabilities, costs, expenses, and attorneys’ fees resulting or arising in whole or in part, directly or indirectly, from (i) the use or sale of the goods by Customer or any third party; (ii) any personal injury, death, property damage, or other damages, injuries, losses, or claims caused by, arising out of, or in any way relating to the sale or use of the goods by Customer or any third party; (iii) any violation of these Terms and Conditions by Customer; (iv) the Customer’s installation, modification, alteration, or storage of the goods provided for hereunder by Prime Doors; or (v) any violation of any local, state, or federal law or regulations by Customer.</p>
                            <p>
                                <strong>GOVERNING LAW; EXCLUSIVE VENUE:</strong> Prime Doors’ Terms and Conditions shall be governed by, and construed in accordance with, the laws of the State of Indiana, without regard to its conflicts or choice of laws principles. The exclusive venue for any dispute or litigation relating to Prime Doors’ Terms and Conditions, or arising from any transaction or business dealings between Prime Doors and Customer, shall be the state courts located in the County of Elkhart, State of Indiana, or if a federal matter, the United States District Court for the Northern District of Indiana.</p>
                            <p>
                                <strong>MISCELLANEOUS:</strong> No duties or obligations of Customer under any purchase order may be assigned or delegated without Prime Doors’ prior written consent. If any of Prime Doors’ Terms and Conditions are held by a court to be invalid, void, or unenforceable, the remainder of the provisions of Prime Doors’ Terms and Conditions shall remain in full force and effect and shall in no way be affected, impaired, or invalidated thereby, and Prime Doors’ Terms and Conditions shall be construed as if such invalid, void, or unenforceable provisions were omitted. Prime Doors’ Terms and Conditions set forth the entire agreement between Prime Doors and Customer. No other terms, conditions, or understandings, whether oral or written, shall be binding upon Prime Doors, unless hereafter made in writing and signed by an authorized representative of Prime Doors. No waiver of any provision of Prime Doors’ Terms and Conditions shall be valid unless in writing and signed by Prime Doors, and no course of dealing between Customer and Prime Doors shall have the effect of modifying or altering Prime Doors’ Terms and Conditions. Prime Doors’ Terms and Conditions shall be binding upon Customer and its officers, managers, members, agents, employees, representatives, successors, and assigns, and shall inure to the benefit of the Prime Doors and its managers, members, employees, agents, affiliates, contractors, representatives, successors, and assigns.</p>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
</odoo>
